<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <canvas id="chart"></canvas>
    <script src="./jquery-3.6.0.min.js"
        ></script>
    <script src="./Chart.min.js"></script>
    <script>
        var ctx = document.getElementById('chart');
        const chart = new Chart(ctx, {
            "type": "scatter",
            "options": {
                "tooltips": {
                    "callbacks": {
                        "label": function (tooltipItem, data) {
                            const item = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index]
                            var label = [
                                'Nilai X: ' + item.x,
                                'Nilai Y: ' + item.y,
                            ];
                            return label;
                        }
                    }
                },
                "legend": { "display": false },
                "backgroundRules": [
                    { "yAxisSegement": 6 },
                    { "yAxisSegement": 12 },
                    { "yAxisSegement": "Infinity" }
                ],
               
            },
            "data": {
                "datasets": [{
                    "data": [
                        { "y": 23, "x": "88.67", },
                        { "y": 24, "x": "88.81", },
                        { "y": 25, "x": "88.67", },
                        { "y": 29, "x": "86.98", },
                        { "y": 28, "x": "84.56", },
                        { "y": 23, "x": "87", },
                        { "y": 24, "x": "87.98", },
                        { "y": 22, "x": "85.06", },
                        { "y": 31, "x": "83.93", },
                        { "y": 25, "x": "85.61", },
                        { "y": 29, "x": "84.41", },
                        { "y": 25, "x": "89.19", },
                        { "y": 24, "x": "87.84", },
                        { "y": 23, "x": "84.5", },
                        { "y": 29, "x": "86.56", },
                        { "y": 26, "x": "55.59", },
                        { "y": 26, "x": "86.39", },
                        { "y": 26, "x": "86.88", },
                        { "y": 24, "x": "91.01", },
                        { "y": 26, "x": "86.97", },
                        { "y": 24, "x": "88", },
                        { "y": 23, "x": "87.33", },
                        { "y": 24, "x": "91.5", },
                        { "y": 24, "x": "91.5", },
                        { "y": 24, "x": "86.01", },
                        { "y": 28, "x": "86.6", },
                        { "y": 22, "x": "94", },
                        { "y": 28, "x": "95", },
                        { "y": 26, "x": "84.64", },
                        { "y": 24, "x": "88.8", },
                        { "y": 26, "x": "87.61", },
                        { "y": 27, "x": "86.56", },
                        { "y": 25, "x": "82.67", },
                        { "y": 28, "x": "86", },
                        { "y": 26, "x": "89.38", },
                        { "y": 28, "x": "87.6", },
                        { "y": 27, "x": "86.7", },
                        { "y": 27, "x": "85.56", },
                        { "y": 30, "x": "91.33", },
                        { "y": 27, "x": "86.74", },
                        { "y": 22, "x": "88.96", },
                        { "y": 25, "x": "86.03", },
                        { "y": 25, "x": "92", },
                        { "y": 28, "x": "85.3", },
                        { "y": 25, "x": "86.72", },
                        { "y": 30, "x": "87", },
                        { "y": 22, "x": "105.1", },
                        { "y": 23, "x": "92", },
                        { "y": 22, "x": "88.23", },
                        { "y": 23, "x": "84.67", },
                        { "y": 24, "x": "97", },
                        { "y": 24, "x": "87.56", },
                        { "y": 23, "x": "92.6", },
                        { "y": 25, "x": "92.17", },
                        { "y": 24, "x": "84.83", },
                        { "y": 22, "x": "88.79", },
                        { "y": 26, "x": "88.38", },
                        { "y": 27, "x": "87.55", },
                        { "y": 22, "x": "86.04", },
                        { "y": 22, "x": "93", },
                        { "y": 28, "x": "92", },
                        { "y": 22, "x": "92", },
                        { "y": 22, "x": "85.45", },
                        { "y": 26, "x": "85", },
                        { "y": 24, "x": "88", },
                        { "y": 23, "x": "90.57", },
                        { "y": 22, "x": "88.17", },
                        { "y": 26, "x": "92", },
                        { "y": 33, "x": "86.38", },
                        { "y": 22, "x": "93", },
                        { "y": 24, "x": "86.56", },
                        { "y": 27, "x": "84.86", },
                        { "y": 32, "x": "87.11", },
                        { "y": 23, "x": "86.83", },
                        { "y": 24, "x": "88.28", },
                    ],
                    
                    "borderWidth": 1,
                    "pointBackgroundColor": "white",
                    "pointBorderColor": "black", 
                    "label": "scarlet"
                }],
            },
            "plugins": {
                "beforeDraw":
                    function (chart) {
                        var ctx = chart.chart.ctx;
                        var ruleIndex = 0;
                        var rules = chart.chart.options.backgroundRules;
                        var yaxis = chart.chart.scales['y-axis-1'];
                        var xaxis = chart.chart.scales['x-axis-1'];
                        var partPercentage = 1 / (yaxis.ticksAsNumbers.length - 1);
                        for (var i = yaxis.ticksAsNumbers.length - 1; i > 0; i--) {
                            if (yaxis.ticksAsNumbers[i] < rules[ruleIndex].yAxisSegement) {
                                let warna = ['rgb(255, 99, 132)', 'rgb(255, 159, 64)', 'rgb(255, 205, 86)', 'rgb(51, 204, 51)', 'rgb(54, 162, 235)', 'rgb(153, 102, 255)', 'rgb(201, 203, 207)']
                                let widthCell = parseInt(xaxis.maxWidth / 3);
                                let tinggi = yaxis.height / 3;

                                // row 1
                                ctx.fillStyle = warna[0];
                                ctx.fillRect(xaxis.left, yaxis.top, widthCell, tinggi);

                                ctx.fillStyle = warna[1];
                                ctx.fillRect(widthCell + xaxis.left, yaxis.top, widthCell, tinggi);

                                ctx.fillStyle = warna[2];
                                ctx.fillRect((widthCell * 2) + xaxis.left, yaxis.top, widthCell, tinggi);


                                // row 2

                                ctx.fillStyle = warna[2];
                                ctx.fillRect(xaxis.left, yaxis.top + tinggi, widthCell, tinggi);

                                ctx.fillStyle = warna[4];
                                ctx.fillRect(widthCell + xaxis.left, yaxis.top + tinggi, widthCell, tinggi);

                                ctx.fillStyle = warna[5];
                                ctx.fillRect((widthCell * 2) + xaxis.left, yaxis.top + tinggi, widthCell, tinggi);

                                // row 3
                                ctx.fillStyle = warna[1];
                                ctx.fillRect(xaxis.left, yaxis.top + (tinggi * 2), widthCell, tinggi);

                                ctx.fillStyle = warna[2];
                                ctx.fillRect(widthCell + xaxis.left, yaxis.top + (tinggi * 2), widthCell, tinggi);

                                ctx.fillStyle = warna[3];
                                ctx.fillRect((widthCell * 2) + xaxis.left, yaxis.top + (tinggi * 2), widthCell, tinggi);

                            } else {
                                ruleIndex++;
                                i++;
                            }
                        }
                    }

            }
        });
    </script>
</body>

</html>